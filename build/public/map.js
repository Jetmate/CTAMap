(function(){var e,n,r,a,o,s,t,i,l;n={lat:41.8781,lng:-87.6298},t=new google.maps.Map(document.getElementById("map"),{zoom:12,center:n}),o=new google.maps.Size(60,60),e=new google.maps.Point(o.width/2,o.height/2),s={e:{url:"/media/arrow_e.png",scaledSize:o,anchor:e},w:{url:"/media/arrow_w.png",scaledSize:o,anchor:e},n:{url:"/media/arrow_n.png",scaledSize:o,anchor:e},s:{url:"/media/arrow_s.png",scaledSize:o,anchor:e},ne:{url:"/media/arrow_ne.png",scaledSize:o,anchor:e},nw:{url:"/media/arrow_nw.png",scaledSize:o,anchor:e},se:{url:"/media/arrow_se.png",scaledSize:o,anchor:e},sw:{url:"/media/arrow_sw.png",scaledSize:o,anchor:e}},(a=new google.maps.DirectionsRenderer).setMap(t),l=[],(i=io()).emit("map_ready"),r=function(e){switch(!1){case!(e<23):return"n";case!(e<68):return"ne";case!(e<113):return"e";case!(e<158):return"se";case!(e<203):return"s";case!(e<248):return"sw";case!(e<293):return"w";case!(e<338):return"nw";default:return"n"}},i.on("points",function(){var e,n,r;return r=[],e=void 0,n=void 0,i.on("point",function(a){return r.push(a),null==e&&(e=a),n=a}),console.log(e,n),i.on("end",function(){var o,s;return o=e.lng<=n.lng?new google.maps.LatLngBounds(e,n):new google.maps.LatLngBounds(n,e),s={routes:[{legs:[{steps:[{travel_mode:"DRIVING",path:r}]}],bounds:o}],request:{travelMode:"DRIVING"}},a.setDirections(s)})}),i.on("vehicles",function(){var e,n;for(e=0,n=l.length;e<n;e++)l[e].setMap(null);return l=[],i.on("vehicle",function(e,n){return l.push(new google.maps.Marker({map:t,position:e,icon:s[r(n)]}))})})}).call(this);